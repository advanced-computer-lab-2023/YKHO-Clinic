<head>
</head>
<body>
    <h1>Your Appointments</h1>
    <% if(onepatient){%>
    <form method="GET" action="/patient/AppointmentsFilter">
        <label for="filter">Search By</label>
        <select id="filter" name="filter">
            <option value="Status">Status</option>
            <option value="Date">Date</option>
        </select>
        
        
        
        <label for="searchvalue">With value</label>
        <input id="searchvalue" input="text" name="searchvalue">
        <br>
        <input type="radio" id="upcoming" name="filters" value="upcoming">
        <label for="upcoming">Upcoming Appointments</label><br>
        <input type="radio" id="past" name="filters" value="past">
        <label for="past">Past Appointments</label><br>
        <button type="submit" style="display: block">Search</button>
    </form>
    <% } %>
    <table>
        
        <%- appointmentrows %>
    </table>
</body>

<script>
    const filterDropdown = document.getElementById('filter');
    const searchValueInput = document.getElementById('searchvalue');

    filterDropdown.addEventListener('change', function () {
        if (filterDropdown.value === 'Date') {
            // Show the date input field when Date is selected
            searchValueInput.type = 'date';

        } else {
            // Show the text input field for other options
            searchValueInput.type = 'text';
        }
    });
    const radioButtons = document.querySelectorAll('input[type="radio"][name="filter"]');
        radioButtons.forEach(function(radioButton) {
            let prevChecked = false; // Initialize a variable to track the previous checked state
            
            radioButton.addEventListener('click', function() {
                if (prevChecked) {
                    // Deselect the clicked radio button
                    this.checked = false;
                }
                prevChecked = this.checked; // Update the previous checked state
            });
        });
    function reserveTHIS(element){
        window.location.href = `http://localhost:3000/patient/paymentcredit/${element.id}`;
     }   
     function kimo(element){
        window.location.href = `http://localhost:3000/patient/paymentWallet/${element.id}`;
     } 
</script>
